<!DOCTYPE html>
<!--[if IE 7 ]>    <html dir="ltr" lang="en-US" class="no-js ie7 oldie"> <![endif]-->
<!--[if IE 8 ]>    <html dir="ltr" lang="en-US" class="no-js ie8 oldie"> <![endif]-->
<!--[if IE 9 ]>    <html dir="ltr" lang="en-US" class="no-js ie9 oldie"> <![endif]-->
<!--[if (gt IE 9)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html id="html" dir="ltr" lang="en-US" class="no-js"><!-- InstanceBegin template="/Templates/content-promo.dwt" codeOutsideHTMLIsLocked="false" --><!--<![endif]-->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>MOD Sandbox Grant</title>
<!-- InstanceEndEditable -->
<!--#include virtual="/asset/includes/head.htm" -->
<!--#include virtual="/global/includes/head.htm" -->
<!-- InstanceBeginEditable name="head" -->
    <link rel="stylesheet" href="css/styles.css">
	<link href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" rel="stylesheet" />
	<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	<script src="https://api.mapbox.com/mapbox.js/v3.0.1/mapbox.js"></script>
	<link href="https://api.mapbox.com/mapbox.js/v3.0.1/mapbox.css" rel="stylesheet" />
	<script src="https://api.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.2.0/leaflet-omnivore.min.js"></script>

    <link rel="stylesheet" href="https://trimet.org/asset/css/style.min.css" />
    <link rel="stylesheet" href="https://trimet.org/global/css/styles.min.css" type="text/css" media="all" />
<!-- InstanceEndEditable -->
</head>

<body class="env-develop" id="top">
<div id="application">
<!--#include virtual="/asset/includes/nav.htm" -->
<section id="content" class="content">
<!-- InstanceBeginEditable name="Main" -->


<!------- HEADER BEGIN ------->
<div class="standardheader wide">
	<p class="breadcrumb"><a href="/index.htm">Home</a> : MOD Sandbox</p>
	<h1>MOD Sandbox Grant 2017 &dash; 2019</h1>
	<div class="first">
		<p>TriMet&rsquo;s OpenTripPlanner Shared-Use Mobility (OTP SUM) project will create a complete open platform for the integration of transit and shared&dash;use mobility options.  With an improved address locator&comma; Mapzen&rsquo;s Pelias geocoder&comma; the open data&comma; software and user interfaces&comma; responsive on both web and mobile&comma; will help customers make informed decisions about their mobility choices&comma; including the critical first and last miles of transit trips where a bus or train alone doesn&rsquo;t provide full access.</p>
	</div><!-- .standardheader -->
</div>
<!------- HEADER END ------->


<!------- INTRO BEGIN ------->
<div class="fullwidth">
	<div class="contentcontainer">
		<div class="row">
			<div class="col-xs-12 col-ms-9 col-sm-9 col-md-8">
				<p>Updated weekly&comma; this dashboard provides a snapshot of the MOD Sandbox project&rsquo;s progress. These key indicators help us track progress toward project deliverables and the budget.  In addition&comma; we will be sharing project updates and lessons learned through this dashboard.</p>
			</div><!-- .col -->

			<div class="col-xs-12 col-ms-3 col-sm-3 col-md-3 col-md-offset-1">
				<ul class="links">
					<li><a href="about.htm">About OpenTripPlanner (OTP)</a></li>
					<li><a href="about_pelias.htm">About the Pelias Geocoder</a></li>
				</ul>
			</div><!-- .col -->
		</div><!-- .row -->

        <div class="row">
            <div class="col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-3">
                <img src="img/mod_logo.jpg" class="img" />
            </div><!-- .col -->
        </div><!-- .row -->

		<div class="row">
			<div class="col-xs-12">
				<ul class="anchor">
					<li><a href="#progress" class="nav_link">Progress</a></li>

					<li><a href="#partners" class="nav_link">Partnerships</a></li>
					<li><a href="#management" class="nav_link">Project Management</a></li>
					<li><a href="#meetings" class="nav_link">Meetings and Events</a></li>
					<li><a href="#evaluations" class="nav_link">Evaluation and Metrics</a></li>
				</ul>
			 </div><!-- .col -->
		</div><!-- .row -->

	</div><!-- .contentcontainer -->
</div><!-- .fullwidth -->
<!------- INTRO END ------->


<!------- PROGRESS BEGIN ------->
    <div class="fullwidth">
        <h2 class="section-title" id="progress">Progress</h2>
        <div class="contentcontainer">
            <div class="row">
                <div class="col-xs-12 col-lg-10 col-lg-offset-1">
					<p>TriMet&rsquo;s proposed project includes the development and expansion of two core data frameworks that current and future collaborative OTP initiatives can be built upon&comma; producing replicable software and results for communities across the country. These two foundational core project elements are to:</p>
					<br>
					<ul class="bullets">
						<li>Extend the OpenTripPlanner code base to support the integration of transit trip planning with shared&dash;use mobility modes&comma; such as bike share and transportation network companies (TNCs)&comma; as well as updated real&dash;time transit information.</li>
						<br>
						<li>Implement a fully functional and comprehensive open geocoder built off the existing Mapzen Pelias geocoder.  Geocoding&comma; or address locating&comma; is a primary requirement for trip planning.  A non&dash;proprietary and non&dash;restrictive option for address locating would substantially lower the barrier to entry for many transit systems to offer trip planning and can achieve significant cost savings for transit agencies&comma; government agencies&comma; and the public.</li>
					</ul>
					<br>
					<p>In addition to core elements on the foundation frameworks&comma; the project will also include:</p>
					<br>
					<ul class="bullets">
						<li>Development of a comprehensive new web&dash;based user interface that will allow users to make intermodal trip plans including shared use mobility and demand&dash;responsive service.</li>
						<br>
						<li>Improvements to basemap data so the trip planner can support enhanced pedestrian&#47;wheelchair accessibility information for customers&semi; and improvements to regional address data that will make location search and geocoding more effective and user&dash;friendly.</li>
						<br>
						<li>Design and implementation of compatibility for future booking and payment options in moovel&rsquo;s RideTap product so customers can plan and pay for their trips in one app.</li>
					</ul>
					<br>
                </div><!-- .col -->
            </div><!-- .row -->
        </div><!-- .contentcontainer -->

        <div class="row">
            <div class="col-xs-12">
                <div class="chart_container">
                    <div class="full_chart" id="gantt">
                        <!-- <script src="./js/gantt.js"></script> -->
                        <embed class="full_chart" src="https://plot.ly/~mosteele/25.embed?autosize=True&link=false&modebar=false&logo=false">
                    </div>
					<p class="small hcenter">The MOD Sandbox project is divided into six main tasks&colon; Project Management&comma; Evaluations &amp; Reports&comma; Application Development&comma; Geocoder Development&comma; Data Improvements and an Integrated Payment Plan.</p>
				</div>
            </div><!-- .col -->
        </div><!-- .row -->
    </div><!-- .fullwidth -->
<!------- PROGRESS END ------->


    <div class="fullwidth">
        <div class="contentcontainer">
            <p class="top"><a href="#top">Top</a></p>
        </div>
    </div><!-- .fullwidth -->


<!------- PARTNERSHIPS BEGIN ------->
    <div class="fullwidth">
        <h2 class="section-title" id="partners">Partnerships</h2>
        <div class="contentcontainer">
            <div class="row">
                <div class="col-xs-12 col-lg-10 col-lg-offset-1">
                    <h3 class="hcenter">TriMet has partnerships with the following organizations:</h3>
                    <p>&nbsp;</p>

                    <div class="row">
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://www.trimet.org"><img src="img/partners/trimet.jpg" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://www.transit.dot.gov/"><img src="img/partners/fta.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://www.ibigroup.com/"><img src="img/partners/ibi.jpg" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://conveyal.com/"><img src="img/partners/conveyal.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://mapzen.com/"><img src="img/partners/mapzen.jpg" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://www.oregonmetro.gov/"><img src="img/partners/metro.jpg" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://moovel-group.com/"><img src="img/partners/moovel.jpg" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://www.rtd-denver.com/"><img src="img/partners/rtd.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://www.vta.org/"><img src="img/partners/vta.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://portlandstreetcar.org/"><img src="img/partners/streetcar.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://www.portlandoregon.gov/"><img src="img/partners/city-of-portland.jpg" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://vtrans.vermont.gov/"><img src="img/partners/vermont.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://www.metro.net/"><img src="img/partners/la-metro.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://trilliumtransit.com/"><img src="img/partners/trillium.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://www.lyft.com/"><img src="img/partners/lyft.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://www.uber.com/"><img src="img/partners/uber.jpg" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://www.bart.gov/"><img src="img/partners/bart.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="http://www.actransit.org/"><img src="img/partners/ac-transit.jpg" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://www.camsys.com/"><img src="img/partners/cambridge-systematics.png" class="img" /></a>
                        </div>
                        <div class="col-xs-3 col-lg-2">
                            <a href="https://www.biketownpdx.com/"><img src="img/partners/biketown.png" class="img" /></a>
                        </div>
                    </div>

                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <h3 class="hcenter">TriMet has several partners on the MOD Sandbox Grant project. The key partners&comma; partner transit agencies and data providers can be found below.</h3>
                </div><!-- .col -->
            </div><!-- .row -->
        </div><!-- .contentcontainer -->

        <div class="row">
            <div class="col-xs-12">

                <div class="map-container">
                    <div id="partner-map-navigation">
                        <nav id="partner-filters" class="filter-ui"></nav>
                    </div>
                    <div id="partnerstext">
                    </div>
                    <div class="custom-popup" id="partner-map">
                        <script>
                        L.mapbox.accessToken = 'pk.eyJ1IjoidHRsaW4xIiwiYSI6ImNpeW5hZWt3eTAwMHY0M3F6NTJtY2cwN3IifQ.OeAih8x-MUWxhRiFj98Q2Q';
                        var map = L.mapbox.map('partner-map')
                            .setView([39.828175,-98.5795], 4)
                            .addLayer(L.mapbox.tileLayer('mapbox.light'));

                        var filters = document.getElementById('partner-filters');
                        var markers = L.mapbox.featureLayer().loadURL('./json/partners.geojson');
                        var partners = document.getElementById('partnerstext');

                        markers.addTo(map);

                        markers.on('ready', function(e) {
                            var typesObj = {},
                            types = [];
                            var features = e.target._geojson.features;
                            for (var i = 0; i < features.length; i++) {
                                typesObj[features[i].properties['status']] = true;
                            }
                            for (var key in typesObj) {
                                if ({}.hasOwnProperty.call(typesObj, key)) {
                                    types.push(key);
                                }
                            }

                            var checkboxes = [];
                            for (var j = 0; j < types.length; j++) {
                                var item = filters.appendChild(document.createElement('div'));
                                var checkbox = item.appendChild(document.createElement('input'));
                                var label = item.appendChild(document.createElement('label'));
                                checkbox.type = 'checkbox';
                                checkbox.id = types[j];
                                checkbox.checked = true;
                                label.innerHTML = types[j];
                                label.setAttribute('for', types[j]);
                                checkbox.addEventListener('change', update);
                                checkboxes.push(checkbox);
                            }

                            for (var i = 0; i < features.length; i++) {
                                var pbox = partners.appendChild(document.createElement('div'));
                                var pboxtext = pbox.appendChild(document.createElement('p'));
                                let title = features[i].properties['title'];
                                let desc = features[i].properties['description'];
                                let text_color = features[i].properties['marker-color'];
                                let partner_status = features[i].properties['status'];
                                pbox.style.cursor = 'pointer';
                                pbox.id = String(features[i].geometry['coordinates']) + text_color;
                                pbox.class = partner_status.replace(" ", "-");
                                let longitude = parseFloat(String(features[i].geometry['coordinates']).split(",")[0]);
                                let latitude = parseFloat(String(features[i].geometry['coordinates']).split(",")[1]);
                                let url_path = features[i].properties['url'];
                                document.getElementById(String(features[i].geometry['coordinates']) + text_color).addEventListener('click', function(){
                                    map.setView([latitude, longitude], 15);
                                    var popup = L.popup()
                                        .setLatLng([latitude + 0.002, longitude])
                                        .setContent('<p style="font-size:12px;width:100%;"><span style="font-weight:800">' + title + "</span><br>" + desc + '<br><a href="' + url_path + '" target="_blank">' + url_path + '</a></p>')
                                        .openOn(map);
                                });
                                if (url_path !== "" ) {
                                    pboxtext.innerHTML = '<span style="background-color:' + text_color + ';color:#fff;padding:2px">' + title + "</span><br>" + desc + '<br><a href="' + url_path + '">' + url_path + '</a>';
                                } else {
                                    pboxtext.innerHTML = '<span style="background-color:' + text_color + ';color:#fff;padding:2px">' + title + "</span><br>" + desc.slice(0, desc.indexOf(",")) + "<br>" + desc.slice(desc.indexOf(",") + 1, desc.length);
                                }
                            }

                            function update() {
                                var enabled = {};
                                for (var k = 0; k < checkboxes.length; k++) {
                                    if (checkboxes[k].checked) enabled[checkboxes[k].id] = true;
                                }

                                markers.setFilter(function(feature) {
                                    return feature.properties['status'] in enabled;
                                });
                            }
                        });
                    </script>
                    </div>
                </div><!-- .map-container -->
            </div><!-- .col -->
        </div><!-- .row -->

    </div><!-- .fullwidth -->
<!------- PARTNERSHIPS END ------->


    <div class="fullwidth">
        <div class="contentcontainer">
            <p class="top"><a href="#top">Top</a></p>
        </div>
    </div><!-- .fullwidth -->


<!------- PROJECT MANAGEMENT BEGIN ------->
    <div class="fullwidth">
        <h2 class="section-title" id="management">Project Management</h2>
        <div class="contentcontainer">
            <div class="row">
                <div class="col-xs-12 col-lg-10 col-lg-offset-1">
                    <p>We use Trello as a team To&dash;Do list and as a place to keep track of meetings. Follow along with us through the Trello board below.</p>
                </div><!-- .col -->
            </div><!-- .row -->
        </div><!-- .contentcontainer -->


        <div class="row">
            <div class="col-xs-12">
                <div class="trello_board">
                    <embed class="trello_board" src="https://trello.com/b/rJ3RAeVr.html">
                </div>

                <p>&nbsp;</p>

            </div><!-- .col -->
        </div><!-- .row -->
    </div><!-- .fullwidth -->
<!------- PROJECT MANAGEMENT END ------->


    <div class="fullwidth">
        <div class="contentcontainer">
            <p class="top"><a href="#top">Top</a></p>
        </div>
    </div><!-- .fullwidth -->


<!------- MEETINGS AND AGENDA BEGIN ------->
    <div class="fullwidth">
        <h2 class="section-title" id="meetings">Meetings and Events</h2>
        <div class="contentcontainer">
            <div class="row">
				<div class="col-xs-12 col-md-8">
					<h3>Upcoming Meetings and Agenda</h3>
					<ul>
						<li>Geocoder Discussion on Slack&comma; February 23&comma; 10&dash;11am PST</li>
						<li>App Design and Development Discussion on Slack&comma; March 2&comma; 10&dash;11am PST</li>
						<li>Geocoder Discussion on Slack&comma; March 9&comma; 10&dash;11am PST</li>
					</ul>
				</div><!-- .col -->

                <div class="col-xs-12 col-md-4">
                    <div class="box">
                        <ul class="links">
							<li><a href="./calendar/Test.ics" download="Test.ics">Download the calendar (iCalendar).</a></li>
							<li><a href="./calendar/Test.pst" download="Test.pst">Download the calendar (Outlook).</a></li>
						</ul>
					</div>
				</div><!-- .col -->
			</div><!-- .row -->
		</div><!-- .contentcontainer -->

        <div class="contentcontainer">
            <div class="row">
				<div class="col-xs-12 col-md-8">
					<h3>January 18 &dash; 19&comma; 2017 Workshop Kickoff</h3>
					<p>On January 18th and 19th&comma; TriMet hosted a workshop to kickoff the MOD Sandbox project that drew over forty participants. Over the two-day workshop&comma; participants worked in breakout sessions on the following topics:</p>

                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <ul class="links">
                                <li><a href="">Geocoding - Integration with new OTP/Trimet Website</a></li>
                                <li><a href="">Fares/Incentives in OTP</a></li>
                                <li><a href="">Routing Engine - Flex+SUM+RT+Accessibility</a></li>
                                <li><a href="">UI/UX - Flex+SUM+RT+Accessibility</a></li>
                            </ul>
                        </div><!-- .col -->
                        <div class="col-xs-12 col-sm-6">
                            <ul class="links">
                                <li><a href="" target="_blank">UI/UX - Integration with Trimet</a></li>
                                <li><a href="" target="_blank">OTP Infrastructure and Build Management Decisions</a></li>
                                <li><a href="" target="_blank">OTP Web Services/Middle Tier</a></li>
                                <li><a href="" target="_blank">UI/UX - Journeys and Scenarios/ Testing Process</a></li>
                            </ul>
                        </div><!-- .col -->
                    </div><!-- .row -->

                    <p>&nbsp;</p>

                    <h3 class="hcenter">The presentations by our key partners are available below:</h3>

                </div><!-- .col -->
            </div><!-- .row -->
        </div><!-- .contentcontainer -->

        <div class="row">
            <div class="col-xs-10 col-xs-offset-1">
                <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col-ms-6 col-ms-offset-0 col-sm-6 col-sm-offset-0 col-md-4">
                        <p class="presentations"><a href="https://drive.google.com/open?id=1gv2eHgkqwFrQfudgaGWbF9ylMK2FItSauRRHiuwoGaw" target="_blank"><img src="./img/trimet_kickoff.jpg" class="img" /></a></p>
                    </div><!-- .col -->
                    <div class="col-xs-10 col-xs-offset-1 col-ms-6 col-ms-offset-0 col-sm-6 col-sm-offset-0 col-md-4">
                        <p class="presentations"><a href="https://drive.google.com/open?id=1gxKQEbFokq01TvgJCqjqQbml1FZvmannvniUOOvR7XU" target="_blank"><img src="./img/conveyal_kickoff.jpg" class="img"></a></p>
                    </div><!-- .col -->
                    <div class="col-xs-10 col-xs-offset-1 col-ms-6 col-ms-offset-0 col-sm-6 col-sm-offset-0 col-md-4">
                        <p class="presentations"><a href="https://drive.google.com/open?id=1yTHUEdSP6GhmAzRwqVb-Tpiq1oTuOYPEZdVK9czR-PA" target="_blank"><img src="./img/moovel_kickoff.jpg" class="img"></a></p>
                    </div><!-- .col -->

                    <div class="col-xs-10 col-xs-offset-1 col-ms-6 col-ms-offset-0 col-sm-6 col-sm-offset-0 col-md-4 col-md-offset-2">
                        <p class="presentations"><a href="https://drive.google.com/open?id=1KuzAcDWzMkz2ZNi-QLod5CxWW--AiGelNZGIJoUJVwQ" target="_blank"><img src="./img/trillium_kickoff.jpg" class="img"></a></p>
                    </div><!-- .col -->
                   <div class="col-xs-10 col-xs-offset-1 col-ms-6 col-ms-offset-3 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-0">
                        <p class="presentations"><a href="https://drive.google.com/open?id=1CcaNq307ODsLKATQRJyQAaMAHJuDniQz55DaU-vNM08" target="_blank"><img src="./img/ibi_kickoff.jpg" class="img"></a></p>
                    </div><!-- .col -->
                </div><!-- .row -->
            </div><!-- .col -->
        </div><!-- .row -->
    </div><!-- .fullwidth -->
<!------- MEETINGS AND AGENDA END ------->


    <div class="fullwidth">
        <div class="contentcontainer">
            <p class="top"><a href="#top">Top</a></p>
        </div>
    </div><!-- .fullwidth -->


    <!------- EVALUATIONS AND METRICS BEGIN ------->
        <div class="fullwidth">
            <h2 class="section-title" id="evaluations">Evaluations and Metrics</h2>
            <div class="row">
                <div class="col-xs-12 hcenter">
                    <embed class="full_chart" src="https://plot.ly/~mosteele/49.embed?autosize=True&link=false&modebar=false&logo=false">
                    <p class="small hcenter">This chart shows the total number of public comments we received by week. Portland received almost one foot of snow the week ending January 15!</p>

                    <embed class="full_chart" src="https://plot.ly/~mosteele/51.embed?autosize=True&link=false&modebar=false&logo=false">
                    <p class="small hcenter">The pie chart shows the breakdown of the public comments by category.</p>
                </div><!-- .col -->
            </div><!-- .row -->
        </div><!-- .fullwidth -->
    <!------- EVALUATIONS AND METRICS END ------->


        <div class="fullwidth">
            <div class="contentcontainer">
                <p class="top"><a href="#top">Top</a></p>
            </div>
        </div><!-- .fullwidth -->
<!-- InstanceEndEditable -->
</section><!-- #.content -->
<!--#include virtual="/asset/includes/footer.htm" -->
</div><!-- #application -->
<!-- InstanceBeginEditable name="Bottom" -->

<!-- InstanceEndEditable -->
</body>
<!-- InstanceEnd --></html>
